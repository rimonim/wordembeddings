% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/context_spec.R
\name{context_spec}
\alias{context_spec}
\title{Specify Context Window Configuration}
\usage{
context_spec(
  window = 5L,
  weights = "linear",
  weights_args = list(),
  distance_metric = c("words", "characters", "surprisal"),
  direction = "symmetric",
  include_target = FALSE,
  vocab_size = NULL,
  vocab_coverage = NULL,
  vocab_keep = NULL,
  min_count = 1L,
  context_smoothing = 0.75,
  target_smoothing = 1,
  subsample = 0.001
)
}
\arguments{
\item{window}{Size of the context window (in words) on either side of the target word.}

\item{weights}{Either a string specifying a decay function of distance
("linear", "harmonic", "exponential", "power", or "none") or a numeric
vector of weights. If a vector, its length must be equal to \code{window}
(if \code{include_target = FALSE}) or \code{window + 1} (if \code{include_target = TRUE})
for one-sided context, or \code{2 * window} / \code{2 * window + 1} for two-sided context.}

\item{weights_args}{List of arguments for the decay function (e.g. \code{alpha} for power/exp).}

\item{distance_metric}{Metric to input to decay function: "words", "characters",
"surprisal". "words" uses token distance; "characters" weights words by their
length in characters; "surprisal" weights words by -log(probability) based on
unigram frequencies. Metrics are rescaled such that the average width of a
word is fixed at 1 (i.e. \code{window = 5} will result in an average window size
of 5 words).}

\item{direction}{String ("symmetric", "forward", "backward") or numeric ratio
of forward to backward weight.}

\item{include_target}{Logical. If TRUE, the target word is included in the
context (distance 0).}

\item{vocab_size}{Optional. Limit vocabulary to top N most frequent types.}

\item{vocab_coverage}{Optional. Limit vocabulary to cover this proportion of tokens.}

\item{vocab_keep}{Optional character vector of types to always keep in vocabulary.}

\item{min_count}{Minimum frequency for a word to be included in vocabulary. Default is 1 (no filtering).}

\item{context_smoothing}{Power to raise context frequencies for negative sampling. Default is 0.75.}

\item{target_smoothing}{Power to raise target word frequencies. Default is 1 (no smoothing).}

\item{subsample}{Subsampling threshold for frequent words (Mikolov et al. 2013). Default is 1e-3.}
}
\value{
A \code{context_spec} object containing the context configuration.
}
\description{
Creates a context specification object that defines how context windows are
constructed around target words. This specification can be reused across
different embedding methods (FCM construction, SGNS training, etc.) to ensure
consistent treatment of context.
}
\examples{
# Standard symmetric window
ctx <- context_spec(window = 5, weights = "linear")

# Asymmetric window favoring forward context
ctx <- context_spec(window = 5, direction = 2.0)  # 2:1 forward:backward

# Custom weight vector
ctx <- context_spec(window = 3, weights = c(0.5, 0.8, 1.0))

# Use with FCM
fcm_mat <- fcm(tokens, context = ctx)

# Use with SGNS (streaming mode)
model <- train_sgns(tokens, context = ctx, n_dims = 100)
}
